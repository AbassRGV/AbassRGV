{% extends 'home/base.html' %}

{% block main %}
<br>
<h1 class="text-center mb-5">Liste des Formations</h1>
<div class="container mt-5">
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for formation in object_list %}
        <div class="col">
            <div class="card custom-card" style="transition: transform 0.3s;">
                <!-- Preview image figure-->
                {% if formation.image %}
                <figure class="mb-4"><img class="card-img-top" src="{{ formation.image.url }}" alt="{{ formation.title }}" />
                </figure>
                {% else %}
                <div class="text-center py-5">
                    <h4 style="color: red;">Pas d'image ici</h4>
                </div>
                {% endif %}

                <div class="card-body">
                    <h5 class="card-title text-bold">{{ formation.title }}</h5>
                    <p class="card-text">{{ formation.description|truncatechars:100 }}</p>
                    <h2></h2>{{ formation.price }} GNF</h2><hr>
                    <div class="text-right">
                        <a href="{% url 'formation_detail' formation.pk %}" class="btn btn-custom">Voir plus</a>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center">
            <h3>Pas de formation disponible ici</h3>
        </div>
        {% endfor %}
    </div>
</div>
<br><br>
{% include 'home/footer.html' %}

<style>
    .custom-card {
        background-color: hsl(0, 1%, 35%);
        border: 1px solid #dee2e6;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        border-radius: 10px;
        overflow: hidden;
    }
    .custom-card:hover {
        transform: scale(1.05);
        box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.15);
    }
    .card-img-top {
        height: 200px;
        object-fit: cover;
        border-bottom: 1px solid #dee2e6;
    }
    .card-title {
        font-weight: bold;
        color: #f1ebeb;
    }
    .card-text {
        color: #fffdfd;
    }
    .btn-custom {
        background-color: #e8ebee;
        border-color: #007bff;
        border-radius: 5px;
        padding: 10px 20px;
        font-weight: bold;
    }
    .btn-custom:hover {
        background-color: #8e8f8f;
        border-color: #6b6c6d;
    }
</style>
{% endblock %}
